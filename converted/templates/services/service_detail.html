{% extends "base.html" %}
{% block title %}{{ service.title }} - AIAutomatic{% endblock %}

{% block content %}

<!-- HERO -->
<section class="bg-gradient-to-br from-blue-50 to-indigo-100 py-12 sm:py-20">
  <div class="container mx-auto px-4 text-center">
    <div class="inline-flex items-center bg-accent rounded-full px-4 py-2 mb-6">
      <span class="text-secondary text-sm font-semibold">{{ service.service_name|upper }}</span>
    </div>
    {% with before=details.split_hero_h1.0 after=details.split_hero_h1.1 %}
    <h1 class="text-3xl sm:text-4xl lg:text-6xl font-bold text-primary leading-tight mb-6">
        {{ before }}{% if after %}<br><span class="text-secondary">{{ after }}</span>{% endif %}
    </h1>
    {% endwith %}

    {% if details.hero_tagline %}
    <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-8">{{ details.hero_tagline }}</p>
    {% endif %}
    <div class="flex flex-col sm:flex-row gap-3 justify-center">
      <a href="#subservices" class="bg-secondary text-white px-8 py-3 rounded-full font-semibold hover:bg-opacity-90">Explore Services</a>
      <a href="#contact" class="border-2 border-secondary text-secondary px-8 py-3 rounded-full hover:bg-secondary hover:text-white font-semibold">Contact Us</a>
    </div>
  </div>
</section>



    <section class="py-12 sm:py-20">
        <div class="container mx-auto px-4">
            <div class="grid lg:grid-cols-2 gap-8 lg:gap-16 items-center">
                <div class="space-y-6">
                  {% with before=details.split_short_title.0 after=details.split_short_title.1 %}
                  <h2 class="text-3xl sm:text-4xl font-bold text-primary">
                      {{ before }}{% if after %}<br>{{ after }}{% endif %}
                  </h2>
                  {% endwith %}

                    <p class="text-base sm:text-xl text-gray-600">
                        {{ details.short_section_details }}
                    </p>
                    <div class="space-y-4">
                      {% for point in bullet_points %}
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-10 h-10 sm:w-12 sm:h-12 bg-secondary rounded-full flex items-center justify-center flex-shrink-0">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg sm:text-xl font-semibold text-primary mb-2">{{ point.title }}</h3>
                                <p class="text-gray-600 text-sm sm:text-base">{{ point.description }}</p>
                            </div>
                        </div>
                        {% endfor %}

                    </div>
                </div>
            <div class="relative">
              <div
                class="bg-white rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl p-6 sm:p-8 transform rotate-3 hover:rotate-0 transition-transform duration-300">
                
                <div class="space-y-4">
                  <!-- Decorative placeholder bars (keep them for design balance) -->
                  <div class="h-3 sm:h-4 bg-gray-200 rounded w-3/4"></div>
                  <div class="h-3 sm:h-4 bg-gray-200 rounded w-1/2"></div>

                  <!-- ✅ Real image replaces gradient box -->
                  {% if details.short_section_image %}
                  <div class="overflow-hidden rounded-lg h-32 sm:h-48">
                    <img
                      src="{{ details.short_section_image.url }}"
                      alt="{{ service.service_name }}"
                      class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
                    >
                  </div>

                  {% else %}
                    <!-- Fallback gradient if no image -->
                    <div class="h-24 sm:h-32 bg-gradient-to-r from-secondary to-pink-400 rounded-lg"></div>
                  {% endif %}

                  <!-- Decorative bottom bar -->
                  <div class="h-3 sm:h-4 bg-gray-200 rounded w-2/3"></div>
                </div>

              </div>
            </div>

            </div>
        </div>
    </section>






<!-- SUBSERVICES -->
<section class="py-12 sm:py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <!-- Section Heading -->
        <div class="text-center mb-12 sm:mb-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-primary mb-4">
                {{ service.service_name }}<br>
                Services
            </h2>
            <p class="text-base sm:text-xl text-gray-600 max-w-2xl mx-auto">
                {{ details.short_section_details|default:"Comprehensive SEO solutions designed to improve your search rankings and drive organic traffic." }}
            </p>
        </div>

        <!-- Subservices Loop -->
        <div class="space-y-12">
            {% for sub in sub_services %}
            <div class="bg-white rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-lg">
                <div class="grid md:grid-cols-2 gap-8 items-center">

                    {# --- IMAGE AREA (Alternate layout every 2nd item) --- #}
                    {% if forloop.counter|divisibleby:2 %}
                    <div class="order-2 md:order-1">
                        <div class="
                            {% if sub.color_theme == 'accent' %}bg-blue-100
                            {% elif sub.color_theme == 'green' %}bg-green-100
                            {% elif sub.color_theme == 'purple' %}bg-purple-100
                            {% elif sub.color_theme == 'yellow' %}bg-yellow-100
                            {% elif sub.color_theme == 'red' %}bg-red-100
                            {% else %}bg-gray-100{% endif %}
                            rounded-xl p-6 h-64 flex items-center justify-center">
                            <div class="text-center">
                                <div class="w-20 h-20 bg-white rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="{{ sub.icon_class }} text-4xl text-secondary"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-primary">{{ sub.title }}</h4>
                            </div>
                        </div>
                    </div>

                    <div class="order-1 md:order-2">
                    {% else %}
                    <div>
                    {% endif %}
                        <!-- TEXT CONTENT -->
                        <div class="w-16 h-16 
                            {% if sub.color_theme == 'accent' %}bg-blue-100
                            {% elif sub.color_theme == 'green' %}bg-green-100
                            {% elif sub.color_theme == 'purple' %}bg-purple-100
                            {% elif sub.color_theme == 'yellow' %}bg-yellow-100
                            {% elif sub.color_theme == 'red' %}bg-red-100
                            {% else %}bg-gray-100{% endif %}
                            rounded-full flex items-center justify-center mb-6">
                            <i class="{{ sub.icon_class }} text-2xl text-secondary"></i>
                        </div>

                        <h3 class="text-2xl font-bold text-primary mb-4">{{ sub.title }}</h3>
                        <p class="text-gray-600 mb-6">{{ sub.description }}</p>

                        <!-- SubService Features -->
                        {% if sub.features.all %}
                        <ul class="space-y-3 mb-6">
                            {% for feature in sub.features.all %}
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-secondary mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-gray-700">{{ feature.text }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                        {% endif %}

                        <a href="#contact" class="inline-flex items-center text-secondary font-semibold hover:underline">
                            Learn more →
                        </a>
                    </div>

                    {% if not forloop.counter|divisibleby:2 %}
                    <!-- IMAGE AREA (right side for odd items) -->
                    <div class="
                        {% if sub.color_theme == 'accent' %}bg-blue-100
                        {% elif sub.color_theme == 'green' %}bg-green-100
                        {% elif sub.color_theme == 'purple' %}bg-purple-100
                        {% elif sub.color_theme == 'yellow' %}bg-yellow-100
                        {% elif sub.color_theme == 'red' %}bg-red-100
                        {% else %}bg-gray-100{% endif %}
                        rounded-xl p-6 h-64 flex items-center justify-center">
                        <div class="text-center">
                            <div class="w-20 h-20 bg-white rounded-full mx-auto mb-4 flex items-center justify-center">
                                <i class="{{ sub.icon_class }} text-4xl text-secondary"></i>
                            </div>
                            <h4 class="text-lg font-semibold text-primary">{{ sub.title }}</h4>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>


<section class="py-12 sm:py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12 sm:mb-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-primary mb-4">
                Frequently Asked Questions
            </h2>
            <p class="text-base sm:text-xl text-gray-600">
                Find answers to common questions about {{ service.service_name }} and its features.
            </p>
        </div>

        <!-- FAQs for main service -->
        {% if faqs %}
        <div class="max-w-3xl mx-auto space-y-4 mb-12">
            {% for faq in faqs %}
            <div class="bg-white rounded-xl shadow-md overflow-hidden">
                <button class="w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none"
                    onclick="toggleFAQ(this)">
                    <span class="font-semibold text-primary">{{ faq.question }}</span>
                    <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="currentColor"
                        viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
                <div class="hidden px-6 pb-4">
                    <p class="text-gray-600">{{ faq.answer|linebreaks }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</section>





<!-- TRUSTED COMPANIES -->
{% if company_logos %}
<section class="py-12 sm:py-16">
  <div class="container mx-auto px-4 text-center">
    <h3 class="text-2xl font-bold text-primary mb-6">Trusted by Leading Brands</h3>
    <div class="flex flex-wrap justify-center gap-6">
      {% for company in company_logos %}
      <a href="{{ company.website|default:'#' }}" target="_blank">
        <img src="{{ company.logo.url }}" alt="{{ company.name }}" class="h-12 sm:h-16 grayscale hover:grayscale-0 transition-all">
      </a>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- TESTIMONIALS -->
{% if testimonials %}
<section class="py-12 sm:py-20 bg-gray-50">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold text-primary mb-10">What Our Clients Say</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for t in testimonials %}
      <div class="bg-white shadow-lg rounded-xl p-6">
        {% if t.photo %}
        <img src="{{ t.photo.url }}" alt="{{ t.name }}" class="w-16 h-16 rounded-full mx-auto mb-4 object-cover">
        {% endif %}
        <p class="text-gray-600 italic mb-3">“{{ t.message }}”</p>
        <h4 class="font-semibold text-primary">{{ t.name }}</h4>
        {% if t.designation %}
        <p class="text-sm text-gray-500">{{ t.designation }}{% if t.company %}, {{ t.company }}{% endif %}</p>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<script>
            function toggleFAQ(button) {
            const content = button.nextElementSibling;
            const icon = button.querySelector('svg');

            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }
</script>


{% endblock %}